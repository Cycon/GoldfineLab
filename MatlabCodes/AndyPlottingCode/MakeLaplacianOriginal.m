function data=MakeLaplacianOriginal(dataOriginal,chanlocs)
%called by runEeglabSpectra to convert my data into Laplacian using matrix
%written by JV and Theresa

%%
%reorder data to be like Shawniqua's so JV's Hjorth matrix works correctly
%on it. Need to order it back in the end so the channels match the labels
%in the other code.
if length(chanlocs)==37
    ChannelOrderHjorth={'Fp1';'F7';'T3';'T5';'O1';'F3';'C3';'P3';'Fz';'Cz';'Fp2';'F8';'T4';'T6';'O2';'F4';'C4';'P4';'FPz';'Pz';'AF7';'AF8';'FC5';'FC6';'FC1';'FC2';'CP5';'CP6';'CP1';'CP2';'PO7';'PO8';'F1';'F2';'CPz';'POz';'Oz'};
    Hjorth=[1,0,0,0,0,-0.218059706639151,0,0,0,0,0,0,0,0,0,0,0,0,-0.389802723555477,0,-0.392137569805372,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0;0,1,0,0,0,-0.270844016815127,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.435735312210910,0,-0.293420670973963,0,0,0,0,0,0,0,0,0,0,0,0,0,0;0,0,1,0,0,0,-0.290465836818808,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.298419668268419,0,0,0,-0.411114494912773,0,0,0,0,0,0,0,0,0,0;0,0,0,1,0,0,0,-0.267375315138502,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.302469838580032,0,0,0,-0.430154846281466,0,0,0,0,0,0;0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.372553979185885,0,0,0,0,-0.257110284225126,-0.370335736588989;0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.185505898658804,0,-0.278268516246153,0,-0.196005713043343,0,0,0,0,0,0,0,-0.340219872051701,0,0,0,0;0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.256890397741414,0,-0.240743394278684,0,-0.258351233565250,0,-0.244014974414652,0,0,0,0,0,0,0,0;0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,-0.237297265305568,0,0,0,0,0,0,-0.248455721216341,0,-0.262016202004379,0,-0.252230811473712,0,0,0,0,0,0;0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.171356350663202,-0.171356350663202,0,0,0,0,0,0,-0.328643649336798,-0.328643649336798,0,0,0;0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.186977880693012,-0.186977880693012,0,0,-0.189811422610492,-0.189811422610492,0,0,0,0,-0.246421393392993,0,0;0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,-0.218059706639151,0,0,-0.389802723555477,0,0,-0.392137569805372,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0;0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,-0.270844016815127,0,0,0,0,0,-0.435735312210910,0,-0.293420670973963,0,0,0,0,0,0,0,0,0,0,0,0,0;0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,-0.290465836818808,0,0,0,0,0,0,-0.298419668268419,0,0,0,-0.411114494912773,0,0,0,0,0,0,0,0,0;0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,-0.267375315138502,0,0,0,0,0,0,0,0,0,-0.302469838580032,0,0,0,-0.430154846281466,0,0,0,0,0;0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.372553979185885,0,0,0,-0.257110284225126,-0.370335736588989;0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-0.185505898658804,0,-0.278268516246153,0,-0.196005713043343,0,0,0,0,0,0,0,-0.340219872051701,0,0,0;0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,-0.256890397741414,0,-0.240743394278684,0,-0.258351233565250,0,-0.244014974414652,0,0,0,0,0,0,0;0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,-0.237297265305568,0,0,0,0,0,0,0,-0.248455721216341,0,-0.262016202004379,0,-0.252230811473712,0,0,0,0,0;-0.332679175394473,0,0,0,0,0,0,0,0,0,-0.332679175394473,0,0,0,0,0,0,0,1,0,-0.167320824605527,-0.167320824605527,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0;0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,-0.205256951719187,-0.205256951719187,0,0,0,0,-0.265022477726795,-0.324463618834831,0;-0.372639023830853,-0.372938473145979,0,0,0,-0.254422503023168,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0;0,0,0,0,0,0,0,0,0,0,-0.372639023830853,-0.372938473145979,0,0,0,-0.254422503023168,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0;0,0,0,0,0,-0.419314917909507,-0.302633292473904,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,-0.278051789616589,0,0,0,0,0,0,0,0,0,0,0,0;0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.419314917909507,-0.302633292473904,0,0,0,0,0,0,1,0,-0.278051789616589,0,0,0,0,0,0,0,0,0,0,0;0,0,0,0,0,-0.240511156347427,-0.230947606741757,0,0,-0.242912543933471,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,-0.285628692977345,0,0,0,0;0,0,0,0,0,0,0,0,0,-0.242912543933471,0,0,0,0,0,-0.240511156347427,-0.230947606741757,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,-0.285628692977345,0,0,0;0,0,-0.245153593051656,-0.250610896028318,0,0,-0.264731995680004,-0.239503515240022,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0;0,0,0,0,0,0,0,0,0,0,0,0,-0.245153593051656,-0.250610896028318,0,0,-0.264731995680004,-0.239503515240022,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0;0,0,0,0,0,0,-0.216299465872555,-0.218491281519817,0,-0.227856769280073,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-0.337352483327556,0,0;0,0,0,0,0,0,0,0,0,-0.227856769280073,0,0,0,0,0,0,-0.216299465872555,-0.218491281519817,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,-0.337352483327556,0,0;0,0,0,-0.372938473145979,-0.372639023830853,0,0,-0.254422503023168,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0;0,0,0,0,0,0,0,0,0,0,0,0,0,-0.372938473145979,-0.372639023830853,0,0,-0.254422503023168,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0;0,0,0,0,0,-0.306578112609383,0,0,-0.322295921381199,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.209757165474835,0,0,0,0,0,0,0,1,-0.161368800534583,0,0,0;0,0,0,0,0,0,0,0,-0.322295921381199,0,0,0,0,0,0,-0.306578112609383,0,0,0,0,0,0,0,0,0,-0.209757165474835,0,0,0,0,0,0,-0.161368800534583,1,0,0,0;0,0,0,0,0,0,0,0,0,-0.238745242012679,0,0,0,0,0,0,0,0,0,-0.216713698261725,0,0,0,0,0,0,0,0,-0.272270529862798,-0.272270529862798,0,0,0,0,1,0,0;0,0,0,0,-0.206384741946864,0,0,0,0,0,0,0,0,0,-0.206384741946864,0,0,0,0,-0.319126865315220,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,-0.268103650791052;0,0,0,0,-0.344604135617391,0,0,0,0,0,0,0,0,0,-0.344604135617391,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.310791728765217,1];
elseif length(chanlocs)==29
    ChannelOrderHjorth={'Fp1';'F7';'T3';'T5';'O1';'F3';'C3';'P3';'Fz';'Cz';'Pz';'Fp2';'F8';'T4';'T6';'O2';'F4';'C4';'P4';'AF7';'AF8';'FC5';'FC6';'FC1';'FC2';'CP5';'CP6';'CP1';'CP2'};
    Hjorth=[1,-0.243615050543552,0,0,0,-0.270301239536486,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.486083709919962,0,0,0,0,0,0,0,0,0;0,1,0,0,0,-0.270844016815127,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.435735312210910,0,-0.293420670973963,0,0,0,0,0,0,0;0,0,1,0,0,0,-0.290465836818808,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.298419668268419,0,0,0,-0.411114494912773,0,0,0;0,0,0,1,-0.274319925105697,0,0,-0.340494145555959,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.385185929338344,0,0,0;0,0,0,-0.322290529143984,1,0,0,-0.357595022656101,0,0,0,0,0,0,0,-0.320114448199915,0,0,0,0,0,0,0,0,0,0,0,0,0;0,0,0,0,0,1,0,0,-0.209184027930766,0,0,0,0,0,0,0,0,0,0,-0.222348357215048,0,-0.333534124247993,0,-0.234933490606193,0,0,0,0,0;0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.256890397741414,0,-0.240743394278684,0,-0.258351233565250,0,-0.244014974414652,0;0,0,0,-0.235083752061842,0,0,0,1,0,0,-0.242738717519570,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.254153047447864,0,-0.268024482970723,0;0,0,0,0,0,-0.241714885747272,0,0,1,0,0,0,0,0,0,0,-0.241714885747272,0,0,0,0,0,0,-0.258285114252728,-0.258285114252728,0,0,0,0;0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.248119942702303,-0.248119942702303,0,0,-0.251880057297697,-0.251880057297697;0,0,0,0,0,0,0,-0.243788298237258,0,0,1,0,0,0,0,0,0,0,-0.243788298237258,0,0,0,0,0,0,0,0,-0.256211701762742,-0.256211701762742;0,0,0,0,0,0,0,0,0,0,0,1,-0.243615050543552,0,0,0,-0.270301239536486,0,0,0,-0.486083709919962,0,0,0,0,0,0,0,0;0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,-0.270844016815127,0,0,0,-0.435735312210910,0,-0.293420670973963,0,0,0,0,0,0;0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,-0.290465836818808,0,0,0,0,-0.298419668268419,0,0,0,-0.411114494912773,0,0;0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,-0.274319925105697,0,0,-0.340494145555959,0,0,0,0,0,0,0,-0.385185929338344,0,0;0,0,0,0,-0.320114448199915,0,0,0,0,0,0,0,0,0,-0.322290529143984,1,0,0,-0.357595022656101,0,0,0,0,0,0,0,0,0,0;0,0,0,0,0,0,0,0,-0.209184027930766,0,0,0,0,0,0,0,1,0,0,0,-0.222348357215048,0,-0.333534124247993,0,-0.234933490606193,0,0,0,0;0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,-0.256890397741414,0,-0.240743394278684,0,-0.258351233565250,0,-0.244014974414652;0,0,0,0,0,0,0,0,0,0,-0.242738717519570,0,0,0,-0.235083752061842,0,0,0,1,0,0,0,0,0,0,0,-0.254153047447864,0,-0.268024482970723;-0.372639023830853,-0.372938473145979,0,0,0,-0.254422503023168,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0;0,0,0,0,0,0,0,0,0,0,0,-0.372639023830853,-0.372938473145979,0,0,0,-0.254422503023168,0,0,0,1,0,0,0,0,0,0,0,0;0,-0.216251958780686,0,0,0,-0.328637245565614,-0.237188250184174,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,-0.217922545469527,0,0,0,0,0;0,0,0,0,0,0,0,0,0,0,0,0,-0.216251958780686,0,0,0,-0.328637245565614,-0.237188250184174,0,0,0,0,1,0,-0.217922545469527,0,0,0,0;0,0,0,0,0,-0.254994249767126,-0.244854802625282,0,-0.242610703570584,-0.257540244037008,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0;0,0,0,0,0,0,0,0,-0.242610703570584,-0.257540244037008,0,0,0,0,0,0,-0.254994249767126,-0.244854802625282,0,0,0,0,0,0,1,0,0,0,0;0,0,-0.245153593051656,-0.250610896028318,0,0,-0.264731995680004,-0.239503515240022,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0;0,0,0,0,0,0,0,0,0,0,0,0,0,-0.245153593051656,-0.250610896028318,0,0,-0.264731995680004,-0.239503515240022,0,0,0,0,0,0,0,1,0,0;0,0,0,0,0,0,-0.248445904187327,-0.250963467594612,0,-0.261720854652253,-0.238869773565808,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0;0,0,0,0,0,0,0,0,0,-0.261720854652253,-0.238869773565808,0,0,0,0,0,0,-0.248445904187327,-0.250963467594612,0,0,0,0,0,0,0,0,0,1];
elseif length(chanlocs)==35 
    for kk=1:length(chanlocs)
        channelNames{kk}=getfield(chanlocs(kk),'labels');
    end
    if sum(strcmpi('F1',channelNames)==1)%if F1 is in the dataset, assume AF7 and AF8 are out
        
    %this one is for IN316W with AF7 and AF8 missing. Ran cofl_eegp_makemont_demo to creat it after removing nonused channels from eegp_defopts.m
%3/18/11 this may be wrong since Mary says that F1 and F2 were used for
%chin even though my notes say AF7 and AF8
        ChannelOrderHjorth={'FP1';'FP2';'F3';'F4';'C3';'C4';'P3';'P4';'O1';'O2';'F7';'F8';'T3';'T4';'T5';'T6';'FZ';'CZ';'PZ';'F1';'F2';'FC1';'FC2';'CP1';'CP2';'FC5';'FC6';'CP5';'CP6';'PO7';'PO8';'FPZ';'CPZ';'POZ';'OZ'};
        Hjorth=[1,0,-0.268164833627717,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.252464703479449,0,0,0,0,0,0,0,0,0,0,0,-0.479370462892834,0,0,0;0,1,0,-0.268164833627717,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.252464703479449,0,0,0,0,0,0,0,0,0,0,-0.479370462892834,0,0,0;0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.176460936805103,0,0,-0.343998015760184,0,-0.198182357655827,0,0,0,-0.281358689778887,0,0,0,0,0,0,0,0,0;0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,-0.176460936805103,0,0,0,-0.343998015760184,0,-0.198182357655827,0,0,0,-0.281358689778887,0,0,0,0,0,0,0,0;0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.240743394278684,0,-0.244014974414652,0,-0.256890397741414,0,-0.258351233565250,0,0,0,0,0,0,0;0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.240743394278684,0,-0.244014974414652,0,-0.256890397741414,0,-0.258351233565250,0,0,0,0,0,0;0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,-0.237297265305568,0,0,0,0,-0.262016202004379,0,0,0,-0.248455721216341,0,-0.252230811473712,0,0,0,0,0;0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,-0.237297265305568,0,0,0,0,0,-0.262016202004379,0,0,0,-0.248455721216341,0,-0.252230811473712,0,0,0,0;0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.372553979185885,0,0,0,-0.257110284225126,-0.370335736588989;0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.372553979185885,0,0,-0.257110284225126,-0.370335736588989;-0.278868075779166,0,-0.346139447029506,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.374992477191328,0,0,0,0,0,0,0,0,0;0,-0.278868075779166,0,-0.346139447029506,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.374992477191328,0,0,0,0,0,0,0,0;0,0,0,0,-0.290465836818808,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,-0.298419668268419,0,-0.411114494912773,0,0,0,0,0,0,0;0,0,0,0,0,-0.290465836818808,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,-0.298419668268419,0,-0.411114494912773,0,0,0,0,0,0;0,0,0,0,0,0,-0.267375315138502,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,-0.302469838580032,0,-0.430154846281466,0,0,0,0,0;0,0,0,0,0,0,0,-0.267375315138502,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,-0.302469838580032,0,-0.430154846281466,0,0,0,0;0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,-0.328643649336798,-0.328643649336798,-0.171356350663202,-0.171356350663202,0,0,0,0,0,0,0,0,0,0,0,0;0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,-0.186977880693012,-0.186977880693012,-0.189811422610492,-0.189811422610492,0,0,0,0,0,0,0,-0.246421393392993,0,0;0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,-0.205256951719187,-0.205256951719187,0,0,0,0,0,0,0,-0.265022477726795,-0.324463618834831,0;0,0,-0.306578112609383,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.322295921381199,0,0,1,-0.161368800534583,-0.209757165474835,0,0,0,0,0,0,0,0,0,0,0,0,0;0,0,0,-0.306578112609383,0,0,0,0,0,0,0,0,0,0,0,0,-0.322295921381199,0,0,-0.161368800534583,1,0,-0.209757165474835,0,0,0,0,0,0,0,0,0,0,0,0;0,0,-0.240511156347427,0,-0.230947606741757,0,0,0,0,0,0,0,0,0,0,0,0,-0.242912543933471,0,-0.285628692977345,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0;0,0,0,-0.240511156347427,0,-0.230947606741757,0,0,0,0,0,0,0,0,0,0,0,-0.242912543933471,0,0,-0.285628692977345,0,1,0,0,0,0,0,0,0,0,0,0,0,0;0,0,0,0,-0.216299465872555,0,-0.218491281519817,0,0,0,0,0,0,0,0,0,0,-0.227856769280073,0,0,0,0,0,1,0,0,0,0,0,0,0,0,-0.337352483327556,0,0;0,0,0,0,0,-0.216299465872555,0,-0.218491281519817,0,0,0,0,0,0,0,0,0,-0.227856769280073,0,0,0,0,0,0,1,0,0,0,0,0,0,0,-0.337352483327556,0,0;0,0,-0.328637245565614,0,-0.237188250184174,0,0,0,0,0,-0.216251958780686,0,0,0,0,0,0,0,0,0,0,-0.217922545469527,0,0,0,1,0,0,0,0,0,0,0,0,0;0,0,0,-0.328637245565614,0,-0.237188250184174,0,0,0,0,0,-0.216251958780686,0,0,0,0,0,0,0,0,0,0,-0.217922545469527,0,0,0,1,0,0,0,0,0,0,0,0;0,0,0,0,-0.264731995680004,0,-0.239503515240022,0,0,0,0,0,-0.245153593051656,0,-0.250610896028318,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0;0,0,0,0,0,-0.264731995680004,0,-0.239503515240022,0,0,0,0,0,-0.245153593051656,0,-0.250610896028318,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0;0,0,0,0,0,0,-0.254422503023168,0,-0.372639023830853,0,0,0,0,0,-0.372938473145979,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0;0,0,0,0,0,0,0,-0.254422503023168,0,-0.372639023830853,0,0,0,0,0,-0.372938473145979,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0;-0.401586836883623,-0.401586836883623,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.196826326232754,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0;0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.238745242012679,-0.216713698261725,0,0,0,0,-0.272270529862798,-0.272270529862798,0,0,0,0,0,0,0,1,0,0;0,0,0,0,0,0,0,0,-0.206384741946864,-0.206384741946864,0,0,0,0,0,0,0,0,-0.319126865315220,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,-0.268103650791052;0,0,0,0,0,0,0,0,-0.344604135617391,-0.344604135617391,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.310791728765217,1];
    else %no F1 or F2
        ChannelOrderHjorth={'FP1','FP2','F3','F4','C3','C4','P3','P4','O1','O2','F7','F8','T3','T4','T5','T6','FZ','CZ','PZ','FC1','FC2','CP1','CP2','FC5','FC6','CP5','CP6','AF7','AF8','PO7','PO8','FPZ','CPZ','POz','OZ'};
        Hjorth=[1,0,-0.268164833627717,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.252464703479449,0,0,0,0,0,0,0,0,0,0,0,-0.479370462892834,0,0,0;0,1,0,-0.268164833627717,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.252464703479449,0,0,0,0,0,0,0,0,0,0,-0.479370462892834,0,0,0;0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.176460936805103,0,0,-0.343998015760184,0,-0.198182357655827,0,0,0,-0.281358689778887,0,0,0,0,0,0,0,0,0;0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,-0.176460936805103,0,0,0,-0.343998015760184,0,-0.198182357655827,0,0,0,-0.281358689778887,0,0,0,0,0,0,0,0;0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.240743394278684,0,-0.244014974414652,0,-0.256890397741414,0,-0.258351233565250,0,0,0,0,0,0,0;0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.240743394278684,0,-0.244014974414652,0,-0.256890397741414,0,-0.258351233565250,0,0,0,0,0,0;0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,-0.237297265305568,0,0,0,0,-0.262016202004379,0,0,0,-0.248455721216341,0,-0.252230811473712,0,0,0,0,0;0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,-0.237297265305568,0,0,0,0,0,-0.262016202004379,0,0,0,-0.248455721216341,0,-0.252230811473712,0,0,0,0;0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.372553979185885,0,0,0,-0.257110284225126,-0.370335736588989;0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.372553979185885,0,0,-0.257110284225126,-0.370335736588989;-0.278868075779166,0,-0.346139447029506,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.374992477191328,0,0,0,0,0,0,0,0,0;0,-0.278868075779166,0,-0.346139447029506,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.374992477191328,0,0,0,0,0,0,0,0;0,0,0,0,-0.290465836818808,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,-0.298419668268419,0,-0.411114494912773,0,0,0,0,0,0,0;0,0,0,0,0,-0.290465836818808,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,-0.298419668268419,0,-0.411114494912773,0,0,0,0,0,0;0,0,0,0,0,0,-0.267375315138502,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,-0.302469838580032,0,-0.430154846281466,0,0,0,0,0;0,0,0,0,0,0,0,-0.267375315138502,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,-0.302469838580032,0,-0.430154846281466,0,0,0,0;0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,-0.328643649336798,-0.328643649336798,-0.171356350663202,-0.171356350663202,0,0,0,0,0,0,0,0,0,0,0,0;0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,-0.186977880693012,-0.186977880693012,-0.189811422610492,-0.189811422610492,0,0,0,0,0,0,0,-0.246421393392993,0,0;0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,-0.205256951719187,-0.205256951719187,0,0,0,0,0,0,0,-0.265022477726795,-0.324463618834831,0;0,0,-0.306578112609383,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.322295921381199,0,0,1,-0.161368800534583,-0.209757165474835,0,0,0,0,0,0,0,0,0,0,0,0,0;0,0,0,-0.306578112609383,0,0,0,0,0,0,0,0,0,0,0,0,-0.322295921381199,0,0,-0.161368800534583,1,0,-0.209757165474835,0,0,0,0,0,0,0,0,0,0,0,0;0,0,-0.240511156347427,0,-0.230947606741757,0,0,0,0,0,0,0,0,0,0,0,0,-0.242912543933471,0,-0.285628692977345,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0;0,0,0,-0.240511156347427,0,-0.230947606741757,0,0,0,0,0,0,0,0,0,0,0,-0.242912543933471,0,0,-0.285628692977345,0,1,0,0,0,0,0,0,0,0,0,0,0,0;0,0,0,0,-0.216299465872555,0,-0.218491281519817,0,0,0,0,0,0,0,0,0,0,-0.227856769280073,0,0,0,0,0,1,0,0,0,0,0,0,0,0,-0.337352483327556,0,0;0,0,0,0,0,-0.216299465872555,0,-0.218491281519817,0,0,0,0,0,0,0,0,0,-0.227856769280073,0,0,0,0,0,0,1,0,0,0,0,0,0,0,-0.337352483327556,0,0;0,0,-0.328637245565614,0,-0.237188250184174,0,0,0,0,0,-0.216251958780686,0,0,0,0,0,0,0,0,0,0,-0.217922545469527,0,0,0,1,0,0,0,0,0,0,0,0,0;0,0,0,-0.328637245565614,0,-0.237188250184174,0,0,0,0,0,-0.216251958780686,0,0,0,0,0,0,0,0,0,0,-0.217922545469527,0,0,0,1,0,0,0,0,0,0,0,0;0,0,0,0,-0.264731995680004,0,-0.239503515240022,0,0,0,0,0,-0.245153593051656,0,-0.250610896028318,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0;0,0,0,0,0,-0.264731995680004,0,-0.239503515240022,0,0,0,0,0,-0.245153593051656,0,-0.250610896028318,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0;0,0,0,0,0,0,-0.254422503023168,0,-0.372639023830853,0,0,0,0,0,-0.372938473145979,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0;0,0,0,0,0,0,0,-0.254422503023168,0,-0.372639023830853,0,0,0,0,0,-0.372938473145979,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0;-0.401586836883623,-0.401586836883623,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.196826326232754,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0;0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.238745242012679,-0.216713698261725,0,0,0,0,-0.272270529862798,-0.272270529862798,0,0,0,0,0,0,0,1,0,0;0,0,0,0,0,0,0,0,-0.206384741946864,-0.206384741946864,0,0,0,0,0,0,0,0,-0.319126865315220,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,-0.268103650791052;0,0,0,0,0,0,0,0,-0.344604135617391,-0.344604135617391,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.310791728765217,1];
    end
else
    fprintf('Unable to match number of channels with channel list for reordering')
    data=dataOriginal;
    return
end

%get a easy to access list of channel names
for j=1:length(chanlocs)
    list{j}=chanlocs(j).labels;
end

eegDataReordered=zeros(size(dataOriginal));
for io=1:length(ChannelOrderHjorth)
    orderIndex = strcmpi(ChannelOrderHjorth{io},list); %gives a logical vector
    eegDataReordered(io,:,:)=dataOriginal(orderIndex,:,:);
end;
    
%%
%here multiply my 3d matrix (each 3rd Dimension) by JV's Hjorth multiplier
%ensuring only channels present are ones I'm interested in. From JV's
%9/1/10 email the EKDB12 one (hb6Hjorth) is okay but the EMU40 one
%(hb8Hjorth) needed a few channels removed so now it's same number of rows
%and columns.

% HjorthEMU40=[1,0,0,0,0,-0.218059706639151,0,0,0,0,0,0,0,0,0,0,0,0,-0.389802723555477,0,-0.392137569805372,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0;0,1,0,0,0,-0.270844016815127,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.435735312210910,0,-0.293420670973963,0,0,0,0,0,0,0,0,0,0,0,0,0,0;0,0,1,0,0,0,-0.290465836818808,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.298419668268419,0,0,0,-0.411114494912773,0,0,0,0,0,0,0,0,0,0;0,0,0,1,0,0,0,-0.267375315138502,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.302469838580032,0,0,0,-0.430154846281466,0,0,0,0,0,0;0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.372553979185885,0,0,0,0,-0.257110284225126,-0.370335736588989;0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.185505898658804,0,-0.278268516246153,0,-0.196005713043343,0,0,0,0,0,0,0,-0.340219872051701,0,0,0,0;0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.256890397741414,0,-0.240743394278684,0,-0.258351233565250,0,-0.244014974414652,0,0,0,0,0,0,0,0;0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,-0.237297265305568,0,0,0,0,0,0,-0.248455721216341,0,-0.262016202004379,0,-0.252230811473712,0,0,0,0,0,0;0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.171356350663202,-0.171356350663202,0,0,0,0,0,0,-0.328643649336798,-0.328643649336798,0,0,0;0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.186977880693012,-0.186977880693012,0,0,-0.189811422610492,-0.189811422610492,0,0,0,0,-0.246421393392993,0,0;0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,-0.218059706639151,0,0,-0.389802723555477,0,0,-0.392137569805372,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0;0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,-0.270844016815127,0,0,0,0,0,-0.435735312210910,0,-0.293420670973963,0,0,0,0,0,0,0,0,0,0,0,0,0;0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,-0.290465836818808,0,0,0,0,0,0,-0.298419668268419,0,0,0,-0.411114494912773,0,0,0,0,0,0,0,0,0;0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,-0.267375315138502,0,0,0,0,0,0,0,0,0,-0.302469838580032,0,0,0,-0.430154846281466,0,0,0,0,0;0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.372553979185885,0,0,0,-0.257110284225126,-0.370335736588989;0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-0.185505898658804,0,-0.278268516246153,0,-0.196005713043343,0,0,0,0,0,0,0,-0.340219872051701,0,0,0;0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,-0.256890397741414,0,-0.240743394278684,0,-0.258351233565250,0,-0.244014974414652,0,0,0,0,0,0,0;0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,-0.237297265305568,0,0,0,0,0,0,0,-0.248455721216341,0,-0.262016202004379,0,-0.252230811473712,0,0,0,0,0;-0.332679175394473,0,0,0,0,0,0,0,0,0,-0.332679175394473,0,0,0,0,0,0,0,1,0,-0.167320824605527,-0.167320824605527,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0;0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,-0.205256951719187,-0.205256951719187,0,0,0,0,-0.265022477726795,-0.324463618834831,0;-0.372639023830853,-0.372938473145979,0,0,0,-0.254422503023168,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0;0,0,0,0,0,0,0,0,0,0,-0.372639023830853,-0.372938473145979,0,0,0,-0.254422503023168,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0;0,0,0,0,0,-0.419314917909507,-0.302633292473904,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,-0.278051789616589,0,0,0,0,0,0,0,0,0,0,0,0;0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.419314917909507,-0.302633292473904,0,0,0,0,0,0,1,0,-0.278051789616589,0,0,0,0,0,0,0,0,0,0,0;0,0,0,0,0,-0.240511156347427,-0.230947606741757,0,0,-0.242912543933471,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,-0.285628692977345,0,0,0,0;0,0,0,0,0,0,0,0,0,-0.242912543933471,0,0,0,0,0,-0.240511156347427,-0.230947606741757,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,-0.285628692977345,0,0,0;0,0,-0.245153593051656,-0.250610896028318,0,0,-0.264731995680004,-0.239503515240022,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0;0,0,0,0,0,0,0,0,0,0,0,0,-0.245153593051656,-0.250610896028318,0,0,-0.264731995680004,-0.239503515240022,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0;0,0,0,0,0,0,-0.216299465872555,-0.218491281519817,0,-0.227856769280073,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-0.337352483327556,0,0;0,0,0,0,0,0,0,0,0,-0.227856769280073,0,0,0,0,0,0,-0.216299465872555,-0.218491281519817,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,-0.337352483327556,0,0;0,0,0,-0.372938473145979,-0.372639023830853,0,0,-0.254422503023168,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0;0,0,0,0,0,0,0,0,0,0,0,0,0,-0.372938473145979,-0.372639023830853,0,0,-0.254422503023168,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0;0,0,0,0,0,-0.306578112609383,0,0,-0.322295921381199,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.209757165474835,0,0,0,0,0,0,0,1,-0.161368800534583,0,0,0;0,0,0,0,0,0,0,0,-0.322295921381199,0,0,0,0,0,0,-0.306578112609383,0,0,0,0,0,0,0,0,0,-0.209757165474835,0,0,0,0,0,0,-0.161368800534583,1,0,0,0;0,0,0,0,0,0,0,0,0,-0.238745242012679,0,0,0,0,0,0,0,0,0,-0.216713698261725,0,0,0,0,0,0,0,0,-0.272270529862798,-0.272270529862798,0,0,0,0,1,0,0;0,0,0,0,-0.206384741946864,0,0,0,0,0,0,0,0,0,-0.206384741946864,0,0,0,0,-0.319126865315220,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,-0.268103650791052;0,0,0,0,-0.344604135617391,0,0,0,0,0,0,0,0,0,-0.344604135617391,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.310791728765217,1];
% HjorthEKDB12=[1,-0.243615050543552,0,0,0,-0.270301239536486,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.486083709919962,0,0,0,0,0,0,0,0,0;0,1,0,0,0,-0.270844016815127,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.435735312210910,0,-0.293420670973963,0,0,0,0,0,0,0;0,0,1,0,0,0,-0.290465836818808,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.298419668268419,0,0,0,-0.411114494912773,0,0,0;0,0,0,1,-0.274319925105697,0,0,-0.340494145555959,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.385185929338344,0,0,0;0,0,0,-0.322290529143984,1,0,0,-0.357595022656101,0,0,0,0,0,0,0,-0.320114448199915,0,0,0,0,0,0,0,0,0,0,0,0,0;0,0,0,0,0,1,0,0,-0.209184027930766,0,0,0,0,0,0,0,0,0,0,-0.222348357215048,0,-0.333534124247993,0,-0.234933490606193,0,0,0,0,0;0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.256890397741414,0,-0.240743394278684,0,-0.258351233565250,0,-0.244014974414652,0;0,0,0,-0.235083752061842,0,0,0,1,0,0,-0.242738717519570,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.254153047447864,0,-0.268024482970723,0;0,0,0,0,0,-0.241714885747272,0,0,1,0,0,0,0,0,0,0,-0.241714885747272,0,0,0,0,0,0,-0.258285114252728,-0.258285114252728,0,0,0,0;0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.248119942702303,-0.248119942702303,0,0,-0.251880057297697,-0.251880057297697;0,0,0,0,0,0,0,-0.243788298237258,0,0,1,0,0,0,0,0,0,0,-0.243788298237258,0,0,0,0,0,0,0,0,-0.256211701762742,-0.256211701762742;0,0,0,0,0,0,0,0,0,0,0,1,-0.243615050543552,0,0,0,-0.270301239536486,0,0,0,-0.486083709919962,0,0,0,0,0,0,0,0;0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,-0.270844016815127,0,0,0,-0.435735312210910,0,-0.293420670973963,0,0,0,0,0,0;0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,-0.290465836818808,0,0,0,0,-0.298419668268419,0,0,0,-0.411114494912773,0,0;0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,-0.274319925105697,0,0,-0.340494145555959,0,0,0,0,0,0,0,-0.385185929338344,0,0;0,0,0,0,-0.320114448199915,0,0,0,0,0,0,0,0,0,-0.322290529143984,1,0,0,-0.357595022656101,0,0,0,0,0,0,0,0,0,0;0,0,0,0,0,0,0,0,-0.209184027930766,0,0,0,0,0,0,0,1,0,0,0,-0.222348357215048,0,-0.333534124247993,0,-0.234933490606193,0,0,0,0;0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,-0.256890397741414,0,-0.240743394278684,0,-0.258351233565250,0,-0.244014974414652;0,0,0,0,0,0,0,0,0,0,-0.242738717519570,0,0,0,-0.235083752061842,0,0,0,1,0,0,0,0,0,0,0,-0.254153047447864,0,-0.268024482970723;-0.372639023830853,-0.372938473145979,0,0,0,-0.254422503023168,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0;0,0,0,0,0,0,0,0,0,0,0,-0.372639023830853,-0.372938473145979,0,0,0,-0.254422503023168,0,0,0,1,0,0,0,0,0,0,0,0;0,-0.216251958780686,0,0,0,-0.328637245565614,-0.237188250184174,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,-0.217922545469527,0,0,0,0,0;0,0,0,0,0,0,0,0,0,0,0,0,-0.216251958780686,0,0,0,-0.328637245565614,-0.237188250184174,0,0,0,0,1,0,-0.217922545469527,0,0,0,0;0,0,0,0,0,-0.254994249767126,-0.244854802625282,0,-0.242610703570584,-0.257540244037008,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0;0,0,0,0,0,0,0,0,-0.242610703570584,-0.257540244037008,0,0,0,0,0,0,-0.254994249767126,-0.244854802625282,0,0,0,0,0,0,1,0,0,0,0;0,0,-0.245153593051656,-0.250610896028318,0,0,-0.264731995680004,-0.239503515240022,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0;0,0,0,0,0,0,0,0,0,0,0,0,0,-0.245153593051656,-0.250610896028318,0,0,-0.264731995680004,-0.239503515240022,0,0,0,0,0,0,0,1,0,0;0,0,0,0,0,0,-0.248445904187327,-0.250963467594612,0,-0.261720854652253,-0.238869773565808,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0;0,0,0,0,0,0,0,0,0,-0.261720854652253,-0.238869773565808,0,0,0,0,0,0,-0.248445904187327,-0.250963467594612,0,0,0,0,0,0,0,0,0,1];

%Hjorth matrices have the information in the rows. I want to reorder the
%rows of my matrix since it's channels x data x snippet. So I put Hjorth
%matrix on the left and my data on the right as it is channels x data. Can't multiply by whole 3D
%matrix so need to multiply one snippet at a time.

dataHjorthOrder=zeros(size(eegDataReordered));
for i=1:size(eegDataReordered,3) %for each snippet
    dataHjorthOrder(:,:,i)=Hjorth*eegDataReordered(:,:,i);
end

%%
%return the channels back to original order using code from crxtoeeglab
data=zeros(size(dataHjorthOrder));
for ip=1:length(list)
    orderIndex = strcmpi(list{ip},ChannelOrderHjorth); %gives a logical vector
    data(ip,:,:)=dataHjorthOrder(orderIndex,:,:);
end;



%%
% %this is how I originally did it but the formulas aren't as accurate as JVs
% %which are measured on a head.
% 
% for j=1:length(chanlocs)
%     command=sprintf('%s=dataOriginal(j,:,:)',chanlocs(j).labels);
%     eval(command);
%     list{j}=chanlocs(j).labels;
% end
% 
% data=zeros(size(dataOriginal));
% %need to ensure this is the same order as chanlocs, from crxtoeeglab:
% %ChannelOrder={'FPz','Fp1','Fp2','AF7','AF8','F7','F3','F1','Fz','F2','F4',
% %'F8','FC5','FC1','FC2','FC6','T3','C3','Cz','C4','T4','CP5','CP1','CPz','CP2','CP6','T5','P3','Pz','P4','T6','PO7','O1','POz','Oz','O2','PO8'};
% 
% data(strcmpi(list,'FPz'),:,:)=FPz-(Fp1+Fp2)/2;
% data(strcmpi(list,'Fp1'),:,:)=Fp1-(FPz-AF7)/2;
% data(strcmpi(list,'Fp2'),:,:)=Fp2-(FPz+AF8)/2;
% data(strcmpi(list,'AF7'),:,:)=AF7-(Fp1+F7)/2;
% data(strcmpi(list,'AF8'),:,:)=AF8-(F8+Fp2)/2;
% data(strcmpi(list,'F7'),:,:)=1/2*((1/3)*((F7-AF7)+(F7-T3)/2));
% data(strcmpi(list,'F3'),:,:)=(F3-(AF7+FC5+FC1+(Fp1+Fz)/2)/4)/1.65;
% data(strcmpi(list,'F1'),:,:)=1/2*((1/2)*((F1-F3)+(F1-Fz))+(1/3)*((F1-FC1)+(F1-(Fp1+FPz)/2)/2));
% data(strcmpi(list,'Fz'),:,:)=1/2*(((1/2)*((Fz-F1)+(Fz-F2)))+(1/4)*((Fz-Cz)/2+(Fz-FPz)/2));
% data(strcmpi(list,'F2'),:,:)=1/2*((1/2)*((F2-F4)+(F2-Fz))+(1/3)*((F2-FC2)+(F2-(Fp2+FPz)/2)/2));
% data(strcmpi(list,'F4'),:,:)=(F4-(AF8+FC6+FC2+(Fp2+Fz)/2)/4)/1.65;
% data(strcmpi(list,'F8'),:,:)=1/2*((1/3)*((F8-AF8)+(F8-T4)/2));
% data(strcmpi(list,'FC5'),:,:)=(FC5-(F7+F3+T3+C3)/4)/1.65;
% data(strcmpi(list,'FC1'),:,:)=(FC1-(F3+Fz+C3+Cz)/4)/1.65;
% data(strcmpi(list,'FC2'),:,:)=(FC2-(F4+Fz+C4+Cz)/4)/1.65;
% data(strcmpi(list,'FC6'),:,:)=(FC6-(F8+F4+T4+C4)/4)/1.65;
% data(strcmpi(list,'T3'),:,:)=(T3-(F7+T5)/2)/4;
% data(strcmpi(list,'C3'),:,:)=(C3-(FC5+FC1+CP5+CP1)/4)/1.65;
% data(strcmpi(list,'Cz'),:,:)=(Cz-(FC1+FC2+CP1+CP2)/4)/1.65;
% data(strcmpi(list,'C4'),:,:)=(C4-(FC6+FC2+CP6+CP2)/4)/1.65;
% data(strcmpi(list,'T4'),:,:)=(T4-(F8+T6)/2)/4;
% data(strcmpi(list,'CP5'),:,:)=(CP5-(T3+C3+T5+P3)/4)/1.65;
% data(strcmpi(list,'CP1'),:,:)=(CP1-(C3+Cz+P3+Pz)/4)/1.65;
% data(strcmpi(list,'CPz'),:,:)=CPz-(Cz+CP1+CP2+Pz)/4;
% data(strcmpi(list,'CP2'),:,:)=(CP2-(C4+Cz+P4+Pz)/4)/1.65;
% data(strcmpi(list,'CP6'),:,:)=(CP6-(T4+C4+T6+P4)/4)/1.65;
% data(strcmpi(list,'T5'),:,:)=1/2*((1/3)*((T5-PO7)+(T5-T3)/2));
% data(strcmpi(list,'P3'),:,:)=(P3-(CP5+CP1+PO7+(Pz+O1)/2)/4)/1.65;
% data(strcmpi(list,'Pz'),:,:)=1/2*(((1/2)*((Pz-CPz)+(Pz-POz)))+(1/4)*((Pz-P3)/2+(Pz-P4)/2));
% data(strcmpi(list,'P4'),:,:)=(P4-(CP6+CP2+PO8+(Pz+O2)/2)/4)/1.65;
% data(strcmpi(list,'T6'),:,:)=1/2*((1/3)*((T6-PO8)+(T6-T4)/2));
% data(strcmpi(list,'PO7'),:,:)=PO7-(T5+O1)/2;
% data(strcmpi(list,'O1'),:,:)=O1-(PO7+Oz)/2;
% data(strcmpi(list,'POz'),:,:)=1/2*(((1/2)*((POz-Pz)+(POz-Oz)))+(1/3)*((POz-(P3+O1)/2)/1.5+(POz-(P4+O2)/2)/1.5));
% data(strcmpi(list,'Oz'),:,:)=Oz-(O1+O2)/2;
% data(strcmpi(list,'O2'),:,:)=O2-(Oz+PO8)/2;
% data(strcmpi(list,'PO8'),:,:)=PO8-(O2+T6)/2;
